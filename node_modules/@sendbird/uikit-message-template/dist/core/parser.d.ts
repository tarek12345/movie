import { Box, type Carousel, ComponentsUnion, Image, ImageButton, Text, TextButton } from '../types/components';
import type { Layout } from '../types/styles';
export type ParserMapOptions = {
    parentLayout: Layout;
    depth?: number;
    elemIdx?: number;
    siblings?: Array<ComponentsUnion['properties']>;
};
/**
 * ParserTransform is a function that is called before parsing the component properties.
 * It performs preprocessing on specific component properties and then returns them.
 *
 * Caution: The returned property must always be a new immutable object.
 * Failing to adhere to this rule can affect the original property object, potentially leading to bugs.
 * For example, a transform that reverses a specific string must guarantee consistent results even if executed N times.
 * */
export type ParserTransform = {
    run: <T extends ComponentsUnion['properties'] = ComponentsUnion['properties']>(properties: T) => T;
};
interface CreateParserParams<ParsedProperties> {
    defaultMapper?(...args: any[]): any;
    mapBoxProps?(properties: Box, options: ParserMapOptions): ParsedProperties;
    mapTextProps?(properties: Text, options: ParserMapOptions): ParsedProperties;
    mapImageProps?(properties: Image, options: ParserMapOptions): ParsedProperties;
    mapTextButtonProps?(properties: TextButton, options: ParserMapOptions): ParsedProperties;
    mapImageButtonProps?(properties: ImageButton, options: ParserMapOptions): ParsedProperties;
    mapCarouselProps?(properties: Carousel, options: ParserMapOptions): ParsedProperties;
    transforms?: ParserTransform[];
}
export interface Parser<ParsedProperties> {
    parse<T extends ComponentsUnion['properties'] = ComponentsUnion['properties']>(properties: T, options: ParserMapOptions): {
        transformed: T;
        properties: ParsedProperties | undefined;
    };
    setTransforms(transforms: ParserTransform[]): void;
    addTransforms(transforms: ParserTransform[]): void;
}
export declare const createParser: <ParsedProperties = string | object>(params?: CreateParserParams<ParsedProperties> | undefined) => Parser<ParsedProperties>;
interface ByAppearance<T> {
    light: T;
    dark: T;
}
interface DefaultStyle {
    _: undefined;
}
export declare const DEFAULT_PARSER_VALUES: ByAppearance<DefaultStyle>;
export {};
