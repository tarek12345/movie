// @link: https://docs.google.com/spreadsheets/d/1-AozBMHRYOXS74vZ-7x2ptQcBL6nnM-orJWRvUgmkd4/edit#gid=0
import type { SBUConfig, SBUConfigRemote } from '../types.js';

export const createInitialConfig = (): SBUConfig => ({
  common: {
    enableUsingDefaultUserProfile: false,
  },
  groupChannel: {
    channel: {
      enableMention: false,
      enableOgtag: true,
      enableReactions: true,
      enableReactionsSupergroup: false,
      enableTypingIndicator: true,
      enableVoiceMessage: false,
      input: {
        camera: {
          enablePhoto: true,
          enableVideo: true,
        },
        enableDocument: true,
        gallery: {
          enablePhoto: true,
          enableVideo: true,
        },
      },
      replyType: 'quote_reply',
      threadReplySelectType: 'thread',
      typingIndicatorTypes: new Set(['text'] as const),
      enableFeedback: false,
      enableSuggestedReplies: false,
      showSuggestedRepliesFor: 'last_message_only',
      suggestedRepliesDirection: 'vertical',
      enableMarkdownForUserMessage: false,
      enableFormTypeMessage: false,
    },
    channelList: {
      enableMessageReceiptStatus: false,
      enableTypingIndicator: false,
    },
    setting: {
      enableMessageSearch: false,
    },
  },
  openChannel: {
    channel: {
      enableOgtag: true,
      input: {
        camera: {
          enablePhoto: true,
          enableVideo: true,
        },
        enableDocument: true,
        gallery: {
          enablePhoto: true,
          enableVideo: true,
        },
      },
    },
  },
});

function deleteLocalConfigs(config: SBUConfig): SBUConfigRemote {
  // @ts-ignore
  delete config.groupChannel.channel.typingIndicatorTypes;
  // @ts-ignore
  delete config.groupChannel.channel.enableFeedback;
  // @ts-ignore
  delete config.groupChannel.channel.enableSuggestedReplies;
  // @ts-ignore
  delete config.groupChannel.channel.showSuggestedRepliesFor;
  // @ts-ignore
  delete config.groupChannel.channel.suggestedRepliesDirection;
  // @ts-ignore
  delete config.groupChannel.channel.enableMarkdownForUserMessage;
  // @ts-ignore
  delete config.groupChannel.channel.enableFormTypeMessage;
  return config;
}

export const createInitialRemoteConfig = () => {
  const config = createInitialConfig();
  return deleteLocalConfigs(config);
};

export const initialConfig = createInitialConfig();
export const initialRemoteConfig = createInitialRemoteConfig();
