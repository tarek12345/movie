"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.usePreservedCallback = void 0;
const react_1 = require("react");
/**
 * Preserves a reference to the given callback function as an argument while the component is mounted.
 * Wraps the given callback in React's Ref to preserve the reference.
 * @param callback want to be preserved
 */
function usePreservedCallback(callback) {
    const callbackRef = (0, react_1.useRef)(callback);
    callbackRef.current = callback;
    // useEffect(() => {
    //   callbackRef.current = callback;
    // });
    return (0, react_1.useCallback)((...args) => callbackRef.current(...args), [callbackRef]);
}
exports.usePreservedCallback = usePreservedCallback;
